{"version":3,"sources":["../../src/EarthObject.js"],"names":[],"mappings":"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","file":"EarthObject.js","sourcesContent":["\nimport * as Loaders from './Loaders.js';\nimport Tweet from './Tweet.js';\n\nexport default class EarthObject extends THREE.Object3D {\n  constructor() {\n    super();\n\n    this.globeMesh = new THREE.Mesh(\n      new THREE.SphereGeometry(10, 50, 50),\n      new THREE.MeshPhongMaterial({\n        map: Loaders.Texture('images/2_no_clouds_4k.jpg'),\n        bumpMap: Loaders.Texture('images/elev_bump_4k.jpg'),\n        bumpScale: 0.5,\n        specularMap: Loaders.Texture('images/water_4k.png'),\n        specular: new THREE.Color('grey'),\n        // wireframe: true\n      })\n    );\n    this.add(this.globeMesh);\n    this.globeMesh.rotation.x = Math.PI/2;\n\n    this.positions = [\n      [37.3470201, -121.8935645, 10],\n      [40.776255,-74.0137496, 10]\n    ]\n\n    this.cubes = [];\n\n    for (var coord of this.positions) {\n\n      var pos = this.latLongAltToPoint(coord[0], coord[1], coord[2]);\n\n      var geometry = new THREE.SphereGeometry(0.5, 5, 5);\n      var material;\n      if (coord[1] > 0) {\n        console.log(\"YOO\");\n        material = new THREE.MeshBasicMaterial( { color: 0x00ff00 } );\n      } else if (coord[1] == 0) {\n        material = new THREE.MeshBasicMaterial( { color: 0xff0000 } );\n      } else {\n        material = new THREE.MeshBasicMaterial( { color: 0xff00ff } );\n      }\n      var cube = new THREE.Mesh( geometry, material );\n      cube.position.copy(pos);\n      this.add( cube );\n\n      this.cubes.push(cube);\n\n    }\n\n    // var tweet = new Tweet({message: \"Hey what's up my dude!\"});\n    // tweet.position.copy(this.latLongAltToPoint(40.776255,-74.0137496, 10));\n    // this.add(tweet);\n\n\n  }\n\n  addEvent(event) {\n    var tweet = new Tweet({message: event.title});\n    var geo = event.geometries[0];\n\n    var pos;\n    if (geo.type == \"Point\") {\n      pos = event.geometries[0].coordinates;\n    } else {\n      pos = event.geometries[0].coordinates[0][0];\n    }\n\n    console.log(pos);\n\n    tweet.position.copy(this.latLongAltToPoint(pos[1],pos[0], 10));\n    this.add(tweet);\n  }\n\n  update() {\n    var i = 0;\n    for (var coord of this.positions) {\n      var pos = this.latLongAltToPoint(coord[0], coord[1], coord[2]);\n\n      this.cubes[i].position.copy(pos);\n      i++;\n\n    }\n    // console.log(\"yo\")\n  }\n\n  sinTest() {\n    return (Math.sin((new Date()).getTime()/100)+1)/2;\n  }\n\n  latLongAltToPoint(lat, long, rho) {\n    var phi = lat * Math.PI/180;// + this.sinTest()*Math.PI/2;\n    // var phi = long * Math.PI/180;\n    var theta = long * Math.PI/180 + Math.PI;\n    var x = Math.cos(phi) * Math.cos(theta) * -rho;\n    var y = Math.cos(phi) * Math.sin(theta) * -rho;\n    var z = Math.sin(phi) * rho;\n    return new THREE.Vector3(x, y, z);\n  }\n}\n"]}